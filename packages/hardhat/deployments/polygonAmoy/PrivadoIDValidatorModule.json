{
  "address": "0x7CDd81CF9d4bE5F0cfF96BC5dD73bbfe8667A449",
  "abi": [
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "circuitId",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "schema",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "slotIndex",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "operator",
              "type": "uint256"
            },
            {
              "internalType": "uint256[]",
              "name": "value",
              "type": "uint256[]"
            }
          ],
          "internalType": "struct ICircuitValidator.CircuitQuery",
          "name": "_query",
          "type": "tuple"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "PrivadoIDValidator",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "query",
      "outputs": [
        {
          "internalType": "string",
          "name": "circuitId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "schema",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "slotIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "operator",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "arg",
          "type": "bytes"
        }
      ],
      "name": "validate",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x1c4c6579f67f11944008dbe8db29c15cd4a6e7f971ddd3daeb3507042bf79846",
  "receipt": {
    "to": null,
    "from": "0xEB71ed911e4dFc35Da80103a72fE983C8c709F33",
    "contractAddress": "0x7CDd81CF9d4bE5F0cfF96BC5dD73bbfe8667A449",
    "transactionIndex": 1,
    "gasUsed": "602145",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000400000000000000000000000000000000000800000000000000000000100101000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000200000000000000200000000000000000000000000000000000000000000000000000000000004000000000000000000001000000000000000000000000000000100000000800000000000000000000000000000000008000000000000000000000000000100000",
    "blockHash": "0xf9fbcef71490cdc27c2b06cfb247dc9a26ae5263e05055507dc2423819c3dce8",
    "transactionHash": "0x1c4c6579f67f11944008dbe8db29c15cd4a6e7f971ddd3daeb3507042bf79846",
    "logs": [
      {
        "transactionIndex": 1,
        "blockNumber": 11121700,
        "transactionHash": "0x1c4c6579f67f11944008dbe8db29c15cd4a6e7f971ddd3daeb3507042bf79846",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x000000000000000000000000eb71ed911e4dfc35da80103a72fe983c8c709f33",
          "0x0000000000000000000000004ad84f7014b7b44f723f284a85b1662337971439"
        ],
        "data": "0x00000000000000000000000000000000000000000000000000402d6e3c4f5a110000000000000000000000000000000000000000000000004b2422e9ddcced7800000000000000000000000000000000000000000000023f386af6f9472cd7ba0000000000000000000000000000000000000000000000004ae3f57ba17d936700000000000000000000000000000000000000000000023f38ab2467837c31cb",
        "logIndex": 4,
        "blockHash": "0xf9fbcef71490cdc27c2b06cfb247dc9a26ae5263e05055507dc2423819c3dce8"
      }
    ],
    "blockNumber": 11121700,
    "cumulativeGasUsed": "726005",
    "status": 1,
    "byzantium": true
  },
  "args": [
    {
      "schema": 1,
      "slotIndex": 1,
      "operator": 1,
      "value": [],
      "circuitId": ""
    }
  ],
  "numDeployments": 1,
  "solcInputHash": "b8ef8c09ad2020861a33b20b6afc56a2",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"circuitId\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"schema\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"slotIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"operator\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"value\",\"type\":\"uint256[]\"}],\"internalType\":\"struct ICircuitValidator.CircuitQuery\",\"name\":\"_query\",\"type\":\"tuple\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"PrivadoIDValidator\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"query\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"circuitId\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"schema\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"slotIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"operator\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"arg\",\"type\":\"bytes\"}],\"name\":\"validate\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/modules/PrivadoIDValidatorModule.sol\":\"PrivadoIDValidatorModule\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/modules/IValidationModule.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ninterface IValidationModule {\\n  function validate(bytes calldata arg) external returns (bool);\\n}\",\"keccak256\":\"0xbce3d3ab208ca1c7fd5e6500f0836c0b99c6dd4b172ebb27bab1a41d2322f94f\",\"license\":\"MIT\"},\"contracts/modules/PrivadoIDValidatorModule.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"../modules/IValidationModule.sol\\\";\\n\\ninterface ICircuitValidator {\\n  // Variables\\n  struct CircuitQuery {\\n    string circuitId;\\n    uint256 schema;\\n    uint256 slotIndex;\\n    uint256 operator;\\n    uint256[] value;\\n  }\\n\\n  struct Params {\\n    uint256[] inputs;\\n    uint256[2] a;\\n    uint256[2][2] b;\\n    uint256[2] c;\\n  }\\n\\n  /**\\n   * @dev verify\\n   */\\n  function verify(\\n    uint256[] memory inputs,\\n    uint256[2] memory a,\\n    uint256[2][2] memory b,\\n    uint256[2] memory c,\\n    CircuitQuery memory query\\n  ) external view returns (bool r);\\n\\n  /**\\n   * @dev getCircuitId\\n   */\\n  function getCircuitId() external pure returns (string memory id);\\n\\n  /**\\n   * @dev getChallengeInputIndex\\n   */\\n  function getChallengeInputIndex() external pure returns (uint256 index);\\n\\n  /**\\n   * @dev getUserIdInputIndex\\n   */\\n  function getUserIdInputIndex() external pure returns (uint256 index);\\n}\\n\\n\\n\\ncontract PrivadoIDValidatorModule is IValidationModule {\\n\\n  address public PrivadoIDValidator;\\n  ICircuitValidator.CircuitQuery public query;\\n\\n  constructor(ICircuitValidator.CircuitQuery memory _query) {\\n    PrivadoIDValidator = 0x8c99F13dc5083b1E4c16f269735EaD4cFbc4970d; // Amoy Tesnet Address validator @todo: move to deploy script\\n    \\n    query = _query;\\n  }\\n\\n  function validate(bytes calldata arg) external override returns (bool) {\\n    ICircuitValidator.Params memory params = abi.decode(arg, (ICircuitValidator.Params));\\n\\n    require(ICircuitValidator(PrivadoIDValidator).verify(params.inputs, \\n      params.a, \\n      params.b, \\n      params.c, \\n      query\\n    ), \\\"PrivadoID Verification Failed\\\");\\n    \\n    return true;\\n  }\\n}\",\"keccak256\":\"0xb15a331b686597d8192cf4332aff4d065569829ece00752b54416e396628e230\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60806040523480156200001157600080fd5b5060405162000c8a38038062000c8a833981016040819052620000349162000216565b600080546001600160a01b031916738c99f13dc5083b1e4c16f269735ead4cfbc4970d1790558051819060019081906200006f9082620003cd565b506020828101516001830155604083015160028301556060830151600383015560808301518051620000a89260048501920190620000b3565b509050505062000499565b828054828255906000526020600020908101928215620000f1579160200282015b82811115620000f1578251825591602001919060010190620000d4565b50620000ff92915062000103565b5090565b5b80821115620000ff576000815560010162000104565b634e487b7160e01b600052604160045260246000fd5b60405160a081016001600160401b03811182821017156200015557620001556200011a565b60405290565b604051601f8201601f191681016001600160401b03811182821017156200018657620001866200011a565b604052919050565b600082601f830112620001a057600080fd5b815160206001600160401b03821115620001be57620001be6200011a565b8160051b620001cf8282016200015b565b9283528481018201928281019087851115620001ea57600080fd5b83870192505b848310156200020b57825182529183019190830190620001f0565b979650505050505050565b600060208083850312156200022a57600080fd5b82516001600160401b03808211156200024257600080fd5b9084019060a082870312156200025757600080fd5b6200026162000130565b8251828111156200027157600080fd5b8301601f810188136200028357600080fd5b8051838111156200029857620002986200011a565b620002ac601f8201601f191687016200015b565b8181528987838501011115620002c157600080fd5b60005b82811015620002e1578381018801518282018901528701620002c4565b5060008783830101528084525050508383015184820152604083015160408201526060830151606082015260808301519350818411156200032157600080fd5b6200032f878585016200018e565b60808201529695505050505050565b600181811c908216806200035357607f821691505b6020821081036200037457634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115620003c857600081815260208120601f850160051c81016020861015620003a35750805b601f850160051c820191505b81811015620003c457828155600101620003af565b5050505b505050565b81516001600160401b03811115620003e957620003e96200011a565b6200040181620003fa84546200033e565b846200037a565b602080601f831160018114620004395760008415620004205750858301515b600019600386901b1c1916600185901b178555620003c4565b600085815260208120601f198616915b828110156200046a5788860151825594840194600190910190840162000449565b5085821015620004895787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b6107e180620004a96000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80632576a83b146100465780632c46b20514610076578063c16e50ef1461008e575b600080fd5b600054610059906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61007e6100b1565b60405161006d9493929190610248565b6100a161009c3660046102ab565b610155565b604051901515815260200161006d565b6001805481906100c09061031d565b80601f01602080910402602001604051908101604052809291908181526020018280546100ec9061031d565b80156101395780601f1061010e57610100808354040283529160200191610139565b820191906000526020600020905b81548152906001019060200180831161011c57829003601f168201915b5050505050908060010154908060020154908060030154905084565b60008061016483850185610489565b600054815160208301516040808501516060860151915163a366352960e01b81529596506001600160a01b039094169463a3663529946101ad94939290916001906004016106d9565b602060405180830381865afa1580156101ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101ee9190610782565b61023e5760405162461bcd60e51b815260206004820152601d60248201527f5072697661646f494420566572696669636174696f6e204661696c6564000000604482015260640160405180910390fd5b5060019392505050565b608081526000855180608084015260005b8181101561027657602081890181015160a0868401015201610259565b50600060a0828501015260a0601f19601f83011684010191505084602083015283604083015282606083015295945050505050565b600080602083850312156102be57600080fd5b823567ffffffffffffffff808211156102d657600080fd5b818501915085601f8301126102ea57600080fd5b8135818111156102f957600080fd5b86602082850101111561030b57600080fd5b60209290920196919550909350505050565b600181811c9082168061033157607f821691505b60208210810361035157634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b6040516080810167ffffffffffffffff8111828210171561039057610390610357565b60405290565b6040805190810167ffffffffffffffff8111828210171561039057610390610357565b604051601f8201601f1916810167ffffffffffffffff811182821017156103e2576103e2610357565b604052919050565b600082601f8301126103fb57600080fd5b610403610396565b80604084018581111561041557600080fd5b845b8181101561042f578035845260209384019301610417565b509095945050505050565b600082601f83011261044b57600080fd5b610453610396565b80608084018581111561046557600080fd5b845b8181101561042f5761047987826103ea565b8452602090930192604001610467565b6000602080838503121561049c57600080fd5b823567ffffffffffffffff808211156104b457600080fd5b9084019061012082870312156104c957600080fd5b6104d161036d565b8235828111156104e057600080fd5b8301601f810188136104f157600080fd5b80358381111561050357610503610357565b8060051b93506105148685016103b9565b818152938201860193868101908a86111561052e57600080fd5b928701925b8584101561054c57833582529287019290870190610533565b8085525050505061055f878585016103ea565b84820152610570876060850161043a565b60408201526105828760e085016103ea565b60608201529695505050505050565b8060005b60028110156105b4578151845260209384019390910190600101610595565b50505050565b6000815480845260208085019450836000528060002060005b838110156105ef578154875295820195600191820191016105d3565b509495945050505050565b60a08252600080825481600182811c91508083168061061a57607f831692505b6020808410820361063957634e487b7160e01b86526022600452602486fd5b60a0890184905260c08901828015610658576001811461066e57610699565b60ff198716825285151560051b82019750610699565b60008a81526020902060005b878110156106935781548482015290860190840161067a565b83019850505b505082880154818a01525050505050600283015460408501526003830154606085015283810360808501526106d181600485016105ba565b949350505050565b6101408082528651908201819052600090610160830190602090818a01845b82811015610714578151855293830193908301906001016106f8565b50505061072381850189610591565b606084018760005b60028110156107525761073f838351610591565b604092909201919083019060010161072b565b5050505061076360e0840186610591565b82810361012084015261077681856105fa565b98975050505050505050565b60006020828403121561079457600080fd5b815180151581146107a457600080fd5b939250505056fea2646970667358221220ca8b71c2c0f6c9356160ba0d8c22d55905d172e37f6d1cdc08dce1a270d8114764736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c80632576a83b146100465780632c46b20514610076578063c16e50ef1461008e575b600080fd5b600054610059906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61007e6100b1565b60405161006d9493929190610248565b6100a161009c3660046102ab565b610155565b604051901515815260200161006d565b6001805481906100c09061031d565b80601f01602080910402602001604051908101604052809291908181526020018280546100ec9061031d565b80156101395780601f1061010e57610100808354040283529160200191610139565b820191906000526020600020905b81548152906001019060200180831161011c57829003601f168201915b5050505050908060010154908060020154908060030154905084565b60008061016483850185610489565b600054815160208301516040808501516060860151915163a366352960e01b81529596506001600160a01b039094169463a3663529946101ad94939290916001906004016106d9565b602060405180830381865afa1580156101ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101ee9190610782565b61023e5760405162461bcd60e51b815260206004820152601d60248201527f5072697661646f494420566572696669636174696f6e204661696c6564000000604482015260640160405180910390fd5b5060019392505050565b608081526000855180608084015260005b8181101561027657602081890181015160a0868401015201610259565b50600060a0828501015260a0601f19601f83011684010191505084602083015283604083015282606083015295945050505050565b600080602083850312156102be57600080fd5b823567ffffffffffffffff808211156102d657600080fd5b818501915085601f8301126102ea57600080fd5b8135818111156102f957600080fd5b86602082850101111561030b57600080fd5b60209290920196919550909350505050565b600181811c9082168061033157607f821691505b60208210810361035157634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b6040516080810167ffffffffffffffff8111828210171561039057610390610357565b60405290565b6040805190810167ffffffffffffffff8111828210171561039057610390610357565b604051601f8201601f1916810167ffffffffffffffff811182821017156103e2576103e2610357565b604052919050565b600082601f8301126103fb57600080fd5b610403610396565b80604084018581111561041557600080fd5b845b8181101561042f578035845260209384019301610417565b509095945050505050565b600082601f83011261044b57600080fd5b610453610396565b80608084018581111561046557600080fd5b845b8181101561042f5761047987826103ea565b8452602090930192604001610467565b6000602080838503121561049c57600080fd5b823567ffffffffffffffff808211156104b457600080fd5b9084019061012082870312156104c957600080fd5b6104d161036d565b8235828111156104e057600080fd5b8301601f810188136104f157600080fd5b80358381111561050357610503610357565b8060051b93506105148685016103b9565b818152938201860193868101908a86111561052e57600080fd5b928701925b8584101561054c57833582529287019290870190610533565b8085525050505061055f878585016103ea565b84820152610570876060850161043a565b60408201526105828760e085016103ea565b60608201529695505050505050565b8060005b60028110156105b4578151845260209384019390910190600101610595565b50505050565b6000815480845260208085019450836000528060002060005b838110156105ef578154875295820195600191820191016105d3565b509495945050505050565b60a08252600080825481600182811c91508083168061061a57607f831692505b6020808410820361063957634e487b7160e01b86526022600452602486fd5b60a0890184905260c08901828015610658576001811461066e57610699565b60ff198716825285151560051b82019750610699565b60008a81526020902060005b878110156106935781548482015290860190840161067a565b83019850505b505082880154818a01525050505050600283015460408501526003830154606085015283810360808501526106d181600485016105ba565b949350505050565b6101408082528651908201819052600090610160830190602090818a01845b82811015610714578151855293830193908301906001016106f8565b50505061072381850189610591565b606084018760005b60028110156107525761073f838351610591565b604092909201919083019060010161072b565b5050505061076360e0840186610591565b82810361012084015261077681856105fa565b98975050505050505050565b60006020828403121561079457600080fd5b815180151581146107a457600080fd5b939250505056fea2646970667358221220ca8b71c2c0f6c9356160ba0d8c22d55905d172e37f6d1cdc08dce1a270d8114764736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 2943,
        "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
        "label": "PrivadoIDValidator",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 2946,
        "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
        "label": "query",
        "offset": 0,
        "slot": "1",
        "type": "t_struct(CircuitQuery)2876_storage"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(CircuitQuery)2876_storage": {
        "encoding": "inplace",
        "label": "struct ICircuitValidator.CircuitQuery",
        "members": [
          {
            "astId": 2866,
            "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
            "label": "circuitId",
            "offset": 0,
            "slot": "0",
            "type": "t_string_storage"
          },
          {
            "astId": 2868,
            "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
            "label": "schema",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 2870,
            "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
            "label": "slotIndex",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 2872,
            "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
            "label": "operator",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 2875,
            "contract": "contracts/modules/PrivadoIDValidatorModule.sol:PrivadoIDValidatorModule",
            "label": "value",
            "offset": 0,
            "slot": "4",
            "type": "t_array(t_uint256)dyn_storage"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}